---
title: "Criar ferramenta de uso durante a chamada"
api: "POST /user/tools"
description: "Cria uma nova ferramenta para uso durante a chamada"
---

Este endpoint permite criar uma nova ferramenta de uso durante a chamada que pode ser utilizada pelos seus assistentes de IA para interagir com APIs externas durante as ligações.

### Parâmetros do Corpo

<ParamField body="name" type="string" required>
  Nome da ferramenta - deve conter apenas letras minúsculas e underscores, e começar com uma letra (ex.: `get_weather`, `book_appointment`)
</ParamField>

<ParamField body="description" type="string" required>
  Explicação detalhada de quando e como a IA deve utilizar esta ferramenta (máximo de 255 caracteres)
</ParamField>

<ParamField body="endpoint" type="string" required>
  URL válida do endpoint de API a ser chamado
</ParamField>

<ParamField body="method" type="string" required>
  Método HTTP: `GET`, `POST`, `PUT`, `PATCH` ou `DELETE`
</ParamField>

<ParamField body="timeout" type="integer" optional>
  Timeout da requisição em segundos (1-30, padrão: 10)
</ParamField>

<ParamField body="headers" type="array" optional>
  Headers HTTP a serem enviados na requisição
  <Expandable title="propriedades de headers">
    <ParamField body="name" type="string" required>
      Nome do header
    </ParamField>
    <ParamField body="value" type="string" required>
      Valor do header
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="schema" type="array" optional>
  Parâmetros que a IA irá extrair da conversa e enviar para o endpoint
  <Expandable title="propriedades de schema">
    <ParamField body="name" type="string" required>
      Nome do parâmetro (2-32 caracteres, deve começar com letra, pode conter letras e underscores)
    </ParamField>
    <ParamField body="type" type="string" required>
      Tipo do parâmetro: `string`, `number` ou `boolean`
    </ParamField>
    <ParamField body="description" type="string" required>
      Descrição para ajudar a IA a entender como extrair este parâmetro (3-255 caracteres)
    </ParamField>
  </Expandable>
</ParamField>

### Campos da Resposta

<ResponseField name="message" type="string">
  Mensagem de sucesso
</ResponseField>

<ResponseField name="data" type="object">
  Objeto da ferramenta criada
  <Expandable title="propriedades de data">
    <ResponseField name="id" type="integer">
      Identificador único da ferramenta
    </ResponseField>

    <ResponseField name="name" type="string">
      Nome da ferramenta
    </ResponseField>

    <ResponseField name="description" type="string">
      Descrição da ferramenta
    </ResponseField>

    <ResponseField name="endpoint" type="string">
      URL do endpoint da API
    </ResponseField>

    <ResponseField name="method" type="string">
      Método HTTP
    </ResponseField>

    <ResponseField name="timeout" type="integer">
      Timeout da requisição em segundos
    </ResponseField>

    <ResponseField name="headers" type="array">
      Headers HTTP
    </ResponseField>

    <ResponseField name="schema" type="array">
      Esquema de parâmetros
    </ResponseField>

    <ResponseField name="created_at" type="string">
      Timestamp ISO 8601
    </ResponseField>

    <ResponseField name="updated_at" type="string">
      Timestamp ISO 8601
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseExample>

```json 201 Created
{
  "message": "Ferramenta criada com sucesso",
  "data": {
    "id": 1,
    "name": "check_order_status",
    "description": "Use esta ferramenta para verificar o status do pedido de um cliente.",
    "endpoint": "https://api.sualoja.com/orders/status",
    "method": "GET",
    "timeout": 10,
    "headers": [
      {
        "name": "Content-Type",
        "value": "application/json"
      },
      {
        "name": "Authorization",
        "value": "Bearer sk_..."
      }
    ],
    "schema": [
      {
        "name": "order_id",
        "type": "string",
        "description": "ID do pedido do cliente"
      },
      {
        "name": "order_number",
        "type": "number",
        "description": "Número do pedido (numérico)"
      },
      {
        "name": "priority_order",
        "type": "boolean",
        "description": "Indica se este é um pedido prioritário"
      }
    ],
    "created_at": "2025-10-10T12:00:00.000000Z",
    "updated_at": "2025-10-10T12:00:00.000000Z"
  }
}
{
  "message": "O campo name deve conter apenas letras minúsculas e underscores, e começar com uma letra.",
  "errors": {
    "name": [
      "O nome da ferramenta deve conter apenas letras minúsculas e underscores, e começar com uma letra."
    ]
  }
}
{
  "message": "Você atingiu o limite do seu plano de 5 ferramentas de uso durante a chamada. Faça upgrade do seu plano para criar mais ferramentas."
}
</ResponseExample>
Anexando Ferramentas aos Assistentes
Após criar uma ferramenta, você precisa anexá-la a um assistente para utilizá-la durante as chamadas. As ferramentas são gerenciadas pela API de Assistentes:

Criar Assistente - Use o parâmetro tool_ids para anexar ferramentas ao criar um assistente

Atualizar Assistente - Use o parâmetro tool_ids para adicionar, remover ou substituir ferramentas em um assistente existente
