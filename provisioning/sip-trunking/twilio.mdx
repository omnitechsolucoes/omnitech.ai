---
title: "Integração com Twilio"
description: "Guia passo a passo para conectar sua conta Twilio via SIP Trunking"
---

## Etapa 1: Criar Elastic SIP Trunking

1. Crie o trunk, defina um nome e ajuste algumas configurações gerais
   <Frame>
     <img
       src="/resources/twillio-create-elastic-sip1.jpeg"
       alt="Criar Elastic SIP Trunking"
     />
   </Frame>

2. Configure a terminação (para chamadas de saída)

- O SIP URI de terminação é importante, pois será utilizado em etapas posteriores. Recomenda-se utilizar um URI de terminação localizado próximo à sua região. Você pode expandir e visualizar URIs localizados no console da Twilio.
    <Frame>
      <img
        src="/resources/twillio-setup-termination1.jpeg"
        alt="Configurar Terminação"
      />
    </Frame>

- Para que o Elastic SIP Trunk aceite requisições de saída, é necessário liberar IPs ou criar autenticação com usuário e senha.

{/* - Caso opte por autenticação, será necessário informar usuário e senha na etapa de importação do número para a OmniTech.
   <Frame>
     <img
       src="/resources/twillio-auth-route.jpeg"
       alt="Twilio Auth Route"
     />
   </Frame> */}

- Atualmente, o servidor SIP da OmniTech não possui IP fixo. Portanto, se optar por liberação por IP, é necessário autorizar todos os IPs do intervalo conforme abaixo:

   <Frame>
     <img
       src="/resources/twillio-new-access-control.jpeg"
       alt="Twilio New Access Control"
     />
   </Frame>

    <Frame>
     <img
       src="/resources/twillio-new-access-control2.jpeg"
       alt="Twilio New Access Control"
     />
   </Frame>

3. Configure a originação (para chamadas de entrada)

- Informe o endereço SIP da OmniTech como URI de originação: ```sip:5wed79aeavr.sip.livekit.cloud ``` 

    <Frame>
      <img
        src="/resources/twillio-setup-origination1.jpeg"
        alt="Configurar Originação"
      />
    </Frame>

## Etapa 2: Mover números para o Elastic SIP Trunking

Após criar o Elastic SIP Trunk, será necessário comprar números ou mover números existentes para este trunk.

   <Frame>
     <img
       src="/resources/twillio-move-numbers1.jpeg"
       alt="Mover números para Elastic SIP Trunking"
     />
   </Frame>

## Etapa 3: Importar números para a OmniTech

Com o número configurado no Elastic SIP Trunking, é necessário importá-lo para a OmniTech para que o roteamento das chamadas seja reconhecido.

1. Acesse o painel da OmniTech
2. Navegue até **Your Phone Numbers**
3. Clique em “Integrate SIP trunk”

   <Frame>
     <img
       src="/resources/twillio-import-autocalls-sip1.png"
       alt="Importar números para OmniTech"
     />
   </Frame>
4. Preencha os dados conforme o tipo de integração
Número de telefone: ex.: +55 11 5555 0123
Usuário: usuário do ramal
Senha: senha do ramal

   <Frame>
     <img
       src="/resources/twillio-autocalls-auth-integration.png"
       alt="Preencher dados conforme tipo de integração"
     />
   </Frame>

5. Informe o SIP URI de terminação configurado na Etapa 1
Endereço do servidor: ex.: xxx.pstn.twillio.com


   <Frame>
     <img
       src="/resources/twillio-outbound-settings.PNG"
       alt="Conectar número Twilio via SIP"
     />
   </Frame>

6. Selecione o tipo de autorização conforme definido anteriormente

{/* - Caso tenha optado por autenticação, selecione Usuário e Senha.

   <Frame>
     <img
       src="/resources/twillio-autocalls-credentials-auth-type.png"
       alt="Tipo de Autenticação"
     />
   </Frame> */}

- Caso a opção seja por IP, adicione os IPs:
54.244.51.0
54.244.51.1
54.244.51.2
54.244.51.3
54.172.60.0
54.172.60.1
54.172.60.2
54.172.60.3

   <Frame>
     <img
       src="/resources/twillio-autocalls-credentials-ip-type1.png"
       alt="Credenciais IP"
     />
   </Frame> 
   
7. Selecione o país onde o SIP Trunk está localizado

    <Frame>
      <img
        src="/resources/twillio-autocalls-sip-country.png"
        alt="País do SIP Trunk"
      />
    </Frame>

### Etapa 4: Verificar Configuração

Após a configuração:

1. Faça uma chamada de teste para o número/ramal
2. Verifique se o assistente de IA atende
3. Utilize o recurso de teste para validar chamadas de saída

## Requisitos de Segurança

As credenciais SIP devem ser seguras:

- **Usuário**: número do ramal ou usuário fornecido pela operadora
- **A senha deve conter**:
  - 12 ou mais caracteres
  - Números
  - Letras maiúsculas e minúsculas
  - Caracteres especiais (recomendado)

## Problemas Comuns

<AccordionGroup>
  <Accordion title="Após conectar, entrada funciona mas saída não?">
    - Verifique o SIP URI de terminação. Caso exista espaço, remova-o. Utilize um URI localizado próximo à sua região. Consulte este [documento](https://www.twilio.com/docs/global-infrastructure/localized-uris/termination).
    - Verifique usuário e credenciais. Certifique-se de que o usuário informado é o correto. O nome amigável não é o mesmo que o usuário real.
    
    <Frame>
     <img
       src="/resources/twillio-outbound-not-work.png"
       alt="Saída Twilio não funciona"
     />
   </Frame>
  </Accordion>

{" "}

<Accordion title="Como configurar chamadas internacionais?">
- Pesquise por “geo” e localize a opção “Voice Geographic Permissions”.  
    <Frame>
     <img
       src="/resources/twillio-setup-dialing-international.png"
       alt="Configurar discagem internacional"
     />
   </Frame>
- Selecione “Elastic SIP Trunking” e marque os países desejados. 
    <Frame>
     <img
       src="/resources/twillio-choose-elastic-sip-trunking.png"
       alt="Selecionar países para discagem"
     />
   </Frame>

</Accordion>
{" "}
</AccordionGroup>

---

<Note>
  Precisa de ajuda para configurar? Nossa equipe de suporte é especializada em
  auxiliar na integração de sistemas telefônicos e irá guiá-lo em todo o processo,
  garantindo uma configuração adequada ao seu ambiente.
</Note>
